**Jira Story: FANTASY-19 â€” Enhance Player Information Views**

> **Goal:** Provide frontend with comprehensive details about individual WNBA players by exposing relevant data from the WNBA API, enabling richer player profile and analysis pages.
>
> **Acceptance Criteria:**
> -   Frontend can retrieve player profiles (bio, awards, news), career/season statistics, game logs, advanced stats, and statistical splits via new API endpoints.
> -   All new endpoints are documented via OpenAPI (auto-generated by FastAPI).
> -   Responses are strongly typed using Pydantic schemas.
> -   The backend gracefully handles potential errors from the external WNBA API (e.g., player not found, API errors).

**Tasks for FANTASY-19:**

1.  **FANTASY-19A: Player Profile Endpoint**
    *   **Description:** Create a `GET /api/v1/players/{player_id}/profile` endpoint. This endpoint will fetch and consolidate data from RapidAPI's `/player/bio` and relevant parts of `/player-overview` (like awards and possibly recent news related to the player).
    *   **Sub-Tasks:**
        *   Define `PlayerBioOut`, `PlayerAwardOut`, `PlayerNewsSnippetOut`, and a composite `PlayerProfileOut` Pydantic schemas in `app/api/schemas.py`.
        *   Add `async def fetch_player_bio(self, player_id: str)` and `async def fetch_player_overview(self, player_id: str)` methods to the `RapidApiClient`.
        *   Implement the FastAPI endpoint in `app/api/endpoints_v1.py` (or a new `player_router.py` if preferred for organization).
        *   The endpoint logic should call the client methods and map/combine the RapidAPI responses into the `PlayerProfileOut` schema.
        *   Write unit tests for the new client methods (mocking `httpx` calls) and integration tests for the FastAPI endpoint (mocking the `RapidApiClient` methods or `httpx`).
    *   **RapidAPI Endpoints Used:** `/player/bio`, `/player-overview`.

2.  **FANTASY-19B: Player Statistics Endpoint**
    *   **Description:** Create a `GET /api/v1/players/{player_id}/stats` endpoint to provide detailed career and per-season statistics for a player.
    *   **Sub-Tasks:**
        *   Define `PlayerSeasonStatsOut`, `PlayerCareerStatsOut`, and a composite `PlayerHistoricalStatsOut` Pydantic schemas in `app/api/schemas.py` to structure the data from `/player-statistic`.
        *   Add `async def fetch_player_statistics(self, player_id: str)` method to `RapidApiClient`.
        *   Implement the FastAPI endpoint.
        *   Map the RapidAPI response from `/player-statistic` to the defined Pydantic schemas.
        *   Write unit and integration tests.
    *   **RapidAPI Endpoint Used:** `/player-statistic`.

3.  **FANTASY-19C: Player Game Log Endpoint**
    *   **Description:** Create a `GET /api/v1/players/{player_id}/gamelog` endpoint, accepting optional query parameters like `year=<YYYY>` and `type=<wnba|ncaa>`.
    *   **Sub-Tasks:**
        *   Define `PlayerGameLogRowOut` and `PlayerGameLogOut` (containing a list of rows and summary/labels) Pydantic schemas.
        *   Add `async def fetch_player_gamelog(self, player_id: str, year: Optional[str] = None, stat_type: Optional[str] = None)` method to `RapidApiClient`.
        *   Implement the FastAPI endpoint, handling query parameters.
        *   Map the RapidAPI response from `/player-gamelog` to schemas.
        *   Write unit and integration tests.
    *   **RapidAPI Endpoint Used:** `/player-gamelog`.

4.  **FANTASY-19D: Player Advanced Stats Endpoint**
    *   **Description:** Create a `GET /api/v1/players/{player_id}/advanced-stats` endpoint, accepting an optional `type=<wnba|ncaa>` query parameter.
    *   **Sub-Tasks:**
        *   Define `PlayerAdvancedStatCategoryOut`, `PlayerAdvancedStatsOut` Pydantic schemas based on the `/player-advanced-stats` response structure.
        *   Add `async def fetch_player_advanced_stats(self, player_id: str, stat_type: Optional[str] = None)` method to `RapidApiClient`.
        *   Implement the FastAPI endpoint.
        *   Map RapidAPI response to schemas.
        *   Write unit and integration tests.
    *   **RapidAPI Endpoint Used:** `/player-advanced-stats`.

5.  **FANTASY-19E: Player Statistical Splits Endpoint**
    *   **Description:** Create a `GET /api/v1/players/{player_id}/splits` endpoint, accepting optional query parameters `year=<YYYY>` and `category=<perGame|total|per48>`.
    *   **Sub-Tasks:**
        *   Define `PlayerSplitCategoryOut`, `PlayerSplitsOut` Pydantic schemas.
        *   Add `async def fetch_player_splits(self, player_id: str, year: Optional[str] = None, category: Optional[str] = None)` method to `RapidApiClient`.
        *   Implement the FastAPI endpoint.
        *   Map RapidAPI response to schemas.
        *   Write unit and integration tests.
    *   **RapidAPI Endpoint Used:** `/player/splits`.